{"ast":null,"code":"import _defineProperty from\"/home/kudos/Desktop/react-demo/react-demo-app/public/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/kudos/Desktop/react-demo/react-demo-app/public/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kudos/Desktop/react-demo/react-demo-app/public/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/kudos/Desktop/react-demo/react-demo-app/public/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/kudos/Desktop/react-demo/react-demo-app/public/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Card,Col,Row,Input,FormGroup,Button,Label,CardTitle,CardHeader,CardFooter}from'reactstrap';import'./AddDetails.css';import{verifyAlpha}from'../../util/helper';import axios from'axios';import ReactBSAlert from\"react-bootstrap-sweetalert\";import Radio from'@material-ui/core/Radio';import RadioGroup from'@material-ui/core/RadioGroup';import FormControlLabel from'@material-ui/core/FormControlLabel';import FormControl from'@material-ui/core/FormControl';import FormLabel from'@material-ui/core/FormLabel';import ListProfile from'./ListProfiels';var ADD_SERVICE_FIELDS=function ADD_SERVICE_FIELDS(state){return[{resultState:state.nameState,placeholder:'Name',name:'name',type:'text',condition:'alpha',errorMsg:'Please enter a valid name.',value:2},{resultState:state.descriptionState,placeholder:'Description',name:'description',type:'textarea',condition:'alpha',errorMsg:'Please enter a profile description.',value:2}];};var AddDetails=/*#__PURE__*/function(_Component){_inherits(AddDetails,_Component);var _super=_createSuper(AddDetails);function AddDetails(props){var _this;_classCallCheck(this,AddDetails);_this=_super.call(this,props);_this.change=function(event,stateName,type,stateNameEqualTo,Value){switch(type){case\"length\":if(event.target.value.length>=stateNameEqualTo){_this.setState(_defineProperty({},stateName+\"State\",\"has-success\"));}else{_this.setState(_defineProperty({},stateName+\"State\",\"has-danger\"));}break;case\"alpha\":if(verifyAlpha(event.target.value)){_this.setState(_defineProperty({},stateName+\"State\",\"has-success\"));}else{_this.setState(_defineProperty({},stateName+\"State\",\"has-danger\"));}default:break;}_this.setState(_defineProperty({},stateName,event.target.value));};_this.isValidated=function(){if(_this.state.nameState===\"has-success\"&&_this.state.descriptionState===\"has-success\"){return true;}else{if(_this.state.nameState!==\"has-success\"){_this.setState({nameState:\"has-danger\"});}if(_this.state.descriptionState!==\"has-success\"){_this.setState({descriptionState:\"has-danger\"});}return false;}};_this.handleFileChange=function(event){var selectedFile=event.target.files;//Check File is not Empty\nif(selectedFile.length>0){// Select the very first file from list\nvar fileToLoad=selectedFile[0];// FileReader function for read the file.\nvar fileReader=new FileReader();// Onload of file read the file content\nfileReader.onload=function(fileLoadedEvent){_this.setState({fileData:fileLoadedEvent.target.result,fileName:selectedFile.name});};// Convert data to base64\nfileReader.readAsDataURL(fileToLoad);}console.log(_this.state.fileData);};_this.handleSaveProfile=function(){_this.isValidated();var _this$state=_this.state,name=_this$state.name,description=_this$state.description,fileData=_this$state.fileData,gender=_this$state.gender;if(!fileData)return _this.handleResponsePopUp('Please select file','Error',false,true);if(!gender)return _this.handleResponsePopUp('Please select gender','Error',false,true);var postData={name:name,description:description,base64_file:fileData,gender:gender};var url='http://localhost:5000/api/profile';axios.post(url,postData).then(function(response){_this.handleClear();return _this.handleResponsePopUp(response.data.message,'Success',true,false);}).catch(function(error){return _this.handleResponsePopUp(error.response.data.message,'Error',false,true);});};_this.handleResponsePopUp=function(message,title,success,error){_this.setState({alert:/*#__PURE__*/React.createElement(ReactBSAlert,{success:success,error:error,style:{display:\"block\",marginTop:\"250px\"},title:title,onConfirm:function onConfirm(){return _this.handleModalClose();},confirmBtnBsStyle:\"success\",btnSize:\"md\"},message)});};_this.handleModalClose=function(){_this.setState({alert:null});};_this.handleGenderChange=function(event){_this.setState({gender:event.target.value});};_this.handleChangeView=function(){_this.setState({isAddView:!_this.state.isAddView,isListView:!_this.state.isListView});};_this.handleClear=function(){_this.setState({name:'',nameState:'',description:'',descriptionState:'',fileData:'',fileName:'',gender:''});};_this.state={alert:null,name:'',nameState:'',description:'',gender:'',descriptionState:'',fileData:'',fileName:'',isAddView:true,isListView:false};return _this;}_createClass(AddDetails,[{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,gender=_this$state2.gender,isAddView=_this$state2.isAddView,isListView=_this$state2.isListView;return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.alert,/*#__PURE__*/React.createElement(\"div\",{className:\"add_details_card\"},isListView?/*#__PURE__*/React.createElement(CardTitle,{className:\"text-center\",tag:\"h2\"},\"List Profiles\"):null,isAddView?/*#__PURE__*/React.createElement(Card,{className:\"shadow\"},/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CardTitle,{className:\"text-center\",tag:\"h2\"},\"Add Profile\"),/*#__PURE__*/React.createElement(Button,{color:\"info\",size:\"sm\",style:{float:\"right\"},className:\"text-center\",onClick:function onClick(){return _this2.handleChangeView();}},\"View Profiles\"))),/*#__PURE__*/React.createElement(Row,{className:\"inputes\"},/*#__PURE__*/React.createElement(Col,{md:\"5\",sm:\"12\",className:\"ml-auto mr-auto\"},ADD_SERVICE_FIELDS(this.state).map(function(field,index){return/*#__PURE__*/React.createElement(Col,{key:index},/*#__PURE__*/React.createElement(Label,null,field.placeholder),/*#__PURE__*/React.createElement(FormGroup,{className:field.resultState},/*#__PURE__*/React.createElement(Input,{placeholder:field.placeholder,name:field.name,value:_this2.state[field.name],type:field.type,onChange:function onChange(e){return _this2.change(e,field.name,field.condition,field.value);}}),field.resultState===\"has-danger\"?/*#__PURE__*/React.createElement(\"label\",{style:{color:'red'},className:\"error\"},field.errorMsg):null));}),/*#__PURE__*/React.createElement(\"div\",{className:\"radiobtn\"},/*#__PURE__*/React.createElement(FormControl,{component:\"fieldset\"},/*#__PURE__*/React.createElement(FormLabel,{component:\"legend\"},\"Select Gender\"),/*#__PURE__*/React.createElement(RadioGroup,{\"aria-label\":\"gender\",name:\"gender1\",value:gender,onChange:function onChange(e){return _this2.handleGenderChange(e);}},/*#__PURE__*/React.createElement(FormControlLabel,{value:\"female\",control:/*#__PURE__*/React.createElement(Radio,null),label:\"Female\"}),/*#__PURE__*/React.createElement(FormControlLabel,{value:\"male\",control:/*#__PURE__*/React.createElement(Radio,null),label:\"Male\"}),/*#__PURE__*/React.createElement(FormControlLabel,{value:\"other\",control:/*#__PURE__*/React.createElement(Radio,null),label:\"Other\"}))))),/*#__PURE__*/React.createElement(Col,{md:\"5\",sm:\"12\",className:\"ml-auto mr-auto\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fileinput text-center\"},/*#__PURE__*/React.createElement(Label,null,\"Select File\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"file\",name:\"file\",value:this.state.fileName,className:\"file_selecter\",onChange:function onChange(e){return _this2.handleFileChange(e);}}))))),/*#__PURE__*/React.createElement(CardFooter,null,/*#__PURE__*/React.createElement(\"div\",{style:{float:\"right\"}},/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return _this2.handleClear();},color:\"danger\",size:\"sm\"},\"Clear\"),/*#__PURE__*/React.createElement(Button,{className:\"ml-3\",onClick:function onClick(){return _this2.handleSaveProfile();},color:\"info\",size:\"sm\"},\"Save Profile\")))):null,isListView?/*#__PURE__*/React.createElement(ListProfile,{handleBack:function handleBack(){return _this2.handleChangeView();}}):null));}}]);return AddDetails;}(Component);export{AddDetails as default};","map":{"version":3,"sources":["/home/kudos/Desktop/react-demo/react-demo-app/public/reactjs/src/views/components/AddDetails.js"],"names":["React","Component","Card","Col","Row","Input","FormGroup","Button","Label","CardTitle","CardHeader","CardFooter","verifyAlpha","axios","ReactBSAlert","Radio","RadioGroup","FormControlLabel","FormControl","FormLabel","ListProfile","ADD_SERVICE_FIELDS","state","resultState","nameState","placeholder","name","type","condition","errorMsg","value","descriptionState","AddDetails","props","change","event","stateName","stateNameEqualTo","Value","target","length","setState","isValidated","handleFileChange","selectedFile","files","fileToLoad","fileReader","FileReader","onload","fileLoadedEvent","fileData","result","fileName","readAsDataURL","console","log","handleSaveProfile","description","gender","handleResponsePopUp","postData","base64_file","url","post","then","response","handleClear","data","message","catch","error","title","success","alert","display","marginTop","handleModalClose","handleGenderChange","handleChangeView","isAddView","isListView","float","map","field","index","e","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Card, Col, Row, Input, FormGroup, Button, Label, CardTitle, CardHeader, CardFooter } from 'reactstrap';\nimport './AddDetails.css';\nimport { verifyAlpha } from '../../util/helper';\nimport axios from 'axios';\nimport ReactBSAlert from \"react-bootstrap-sweetalert\";\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport ListProfile from './ListProfiels';\n\nconst ADD_SERVICE_FIELDS = (state) => [\n    {\n        resultState: state.nameState,\n        placeholder: 'Name',\n        name: 'name',\n        type: 'text',\n        condition: 'alpha',\n        errorMsg: 'Please enter a valid name.',\n        value: 2\n    },\n    {\n        resultState: state.descriptionState,\n        placeholder: 'Description',\n        name: 'description',\n        type: 'textarea',\n        condition: 'alpha',\n        errorMsg: 'Please enter a profile description.',\n        value: 2\n    }\n]\n\nexport default class AddDetails extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            alert: null,\n            name: '',\n            nameState: '',\n            description: '',\n            gender: '',\n            descriptionState: '',\n            fileData: '',\n            fileName: '',\n            isAddView: true,\n            isListView: false\n        };\n    }\n\n\n    change = (event, stateName, type, stateNameEqualTo, Value) => {\n        switch (type) {\n            case \"length\":\n                if (event.target.value.length >= stateNameEqualTo) {\n                    this.setState({ [stateName + \"State\"]: \"has-success\" });\n                } else {\n                    this.setState({ [stateName + \"State\"]: \"has-danger\" });\n                }\n                break;\n            case \"alpha\":\n                if (verifyAlpha(event.target.value)) {\n                    this.setState({ [stateName + \"State\"]: \"has-success\" });\n                } else {\n                    this.setState({ [stateName + \"State\"]: \"has-danger\" });\n                }\n            default:\n                break;\n        }\n        this.setState({ [stateName]: event.target.value });\n    };\n\n    isValidated = () => {\n        if (\n            (this.state.nameState === \"has-success\") &&\n            (this.state.descriptionState === \"has-success\")\n        ) {\n            return true;\n        } else {\n            if (this.state.nameState !== \"has-success\") {\n                this.setState({ nameState: \"has-danger\" });\n            }\n            if (this.state.descriptionState !== \"has-success\") {\n                this.setState({ descriptionState: \"has-danger\" });\n            }\n            return false;\n        }\n    };\n\n    handleFileChange = (event) => {\n        let selectedFile = event.target.files;\n        //Check File is not Empty\n        if (selectedFile.length > 0) {\n            // Select the very first file from list\n            let fileToLoad = selectedFile[0];\n            // FileReader function for read the file.\n            let fileReader = new FileReader();\n            // Onload of file read the file content\n            fileReader.onload = (fileLoadedEvent) => {\n                this.setState({\n                    fileData: fileLoadedEvent.target.result,\n                    fileName: selectedFile.name\n                })\n            };\n            // Convert data to base64\n            fileReader.readAsDataURL(fileToLoad);\n        }\n        console.log(this.state.fileData);\n    };\n\n    handleSaveProfile = () => {\n        this.isValidated()\n        const { name, description, fileData, gender } = this.state;\n        if (!fileData) return this.handleResponsePopUp('Please select file', 'Error', false, true);\n        if (!gender) return this.handleResponsePopUp('Please select gender', 'Error', false, true);\n        const postData = {\n            name: name,\n            description: description,\n            base64_file: fileData,\n            gender: gender\n        }\n        const url = 'http://localhost:5000/api/profile';\n        axios.post(url, postData).then(response => {\n            this.handleClear();\n            return this.handleResponsePopUp(response.data.message, 'Success', true, false);\n        }).catch(error => {\n            return this.handleResponsePopUp(error.response.data.message, 'Error', false, true);\n        });\n    };\n\n    // Pop-Ups for response in Modals\n    handleResponsePopUp = (message, title, success, error) => {\n        this.setState({\n            alert: (\n                <ReactBSAlert\n                    success={success}\n                    error={error}\n                    style={{ display: \"block\", marginTop: \"250px\" }}\n                    title={title}\n                    onConfirm={() => this.handleModalClose()}\n                    confirmBtnBsStyle=\"success\"\n                    btnSize=\"md\"\n                >\n                    {message}\n                </ReactBSAlert>\n            )\n        });\n    };\n\n    handleModalClose = () => {\n        this.setState({\n            alert: null\n        });\n    };\n\n    handleGenderChange = (event) => {\n        this.setState({\n            gender: event.target.value\n        });\n    };\n\n    handleChangeView = () => {\n        this.setState({\n            isAddView: !this.state.isAddView,\n            isListView: !this.state.isListView\n        });\n    };\n\n    handleClear = () => {\n        this.setState({\n            name: '',\n            nameState: '',\n            description: '',\n            descriptionState: '',\n            fileData: '',\n            fileName: '',\n            gender: '',\n        });\n    }\n\n    render() {\n        const { gender, isAddView, isListView } = this.state;\n        return (\n            <>\n                {this.state.alert}\n                <div className='add_details_card'>\n                    {isListView ? <CardTitle className='text-center' tag='h2'>List Profiles</CardTitle> : null}\n                    {isAddView ? <Card className='shadow'>\n                        <CardHeader>\n                            <div>\n                                <CardTitle className='text-center' tag='h2'>Add Profile</CardTitle>\n                                <Button color='info' size='sm' style={{ float: \"right\" }} className='text-center' onClick={() => this.handleChangeView()}>View Profiles</Button>\n                            </div>\n                        </CardHeader>\n                        <Row className='inputes'>\n                            <Col md='5' sm='12' className='ml-auto mr-auto'>\n                                {ADD_SERVICE_FIELDS(this.state).map((field, index) => {\n                                    return <Col key={index}>\n                                        <Label>{field.placeholder}</Label>\n                                        <FormGroup className={field.resultState}>\n                                            <Input\n                                                placeholder={field.placeholder}\n                                                name={field.name}\n                                                value={this.state[field.name]}\n                                                type={field.type}\n                                                onChange={e => this.change(e, field.name, field.condition, field.value)}\n                                            />\n                                            {field.resultState === \"has-danger\" ? (\n                                                <label style={{ color: 'red' }} className=\"error\">{field.errorMsg}</label>\n                                            ) : null}\n                                        </FormGroup>\n                                    </Col>\n                                })}\n                                <div className='radiobtn'>\n                                    <FormControl component=\"fieldset\">\n                                        <FormLabel component=\"legend\">Select Gender</FormLabel>\n                                        <RadioGroup aria-label=\"gender\" name=\"gender1\" value={gender} onChange={(e) => this.handleGenderChange(e)}>\n                                            <FormControlLabel value=\"female\" control={<Radio />} label=\"Female\" />\n                                            <FormControlLabel value=\"male\" control={<Radio />} label=\"Male\" />\n                                            <FormControlLabel value=\"other\" control={<Radio />} label=\"Other\" />\n                                        </RadioGroup>\n                                    </FormControl>\n                                </div>\n                            </Col>\n                            <Col md='5' sm='12' className='ml-auto mr-auto'>\n                                <div className=\"fileinput text-center\">\n                                    <Label>Select File</Label>\n                                    <div>\n                                        <input type=\"file\" name='file' value={this.state.fileName} className='file_selecter' onChange={(e) => this.handleFileChange(e)} />\n                                    </div>\n                                </div>\n                            </Col>\n                        </Row>\n                        <CardFooter>\n                            <div style={{ float: \"right\" }}>\n                                <Button onClick={() => this.handleClear()} color='danger' size='sm'>Clear</Button>\n                                <Button className='ml-3' onClick={() => this.handleSaveProfile()} color='info' size='sm'>Save Profile</Button>\n                            </div>\n                        </CardFooter>\n                    </Card> : null}\n                    {isListView ? <ListProfile handleBack={() => this.handleChangeView()} /> : null}\n                </div>\n            </>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}