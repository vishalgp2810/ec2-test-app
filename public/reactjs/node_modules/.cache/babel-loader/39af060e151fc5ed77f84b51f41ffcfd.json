{"ast":null,"code":"import _classCallCheck from\"/home/user/Documents/Personal-workspace/image-gallary/public/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/user/Documents/Personal-workspace/image-gallary/public/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/user/Documents/Personal-workspace/image-gallary/public/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/user/Documents/Personal-workspace/image-gallary/public/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Header from'./Header';import Body from'./Body';import Footer from'./Footer';import ReactBSAlert from\"react-bootstrap-sweetalert\";import axios from'../../util/axios';var galarry=/*#__PURE__*/function(_Component){_inherits(galarry,_Component);var _super=_createSuper(galarry);function galarry(props){var _this;_classCallCheck(this,galarry);_this=_super.call(this,props);_this.handleResponsePopUp=function(message,title,success,error){_this.setState({alert:/*#__PURE__*/React.createElement(ReactBSAlert,{success:success,error:error,style:{display:\"block\",marginTop:\"250px\"},title:title,onConfirm:function onConfirm(){return _this.handleModalClose();},confirmBtnBsStyle:\"success\",btnSize:\"md\"},message)});};_this.handleModalClose=function(){_this.setState({alert:null});};_this.componentDidMount=function(){_this.handleGetImagesList();};_this.handleGetImagesList=function(){axios.get('/api/image').then(function(response){_this.setState({imagesList:response.data});}).catch(function(error){return _this.handleResponsePopUp(error.response.data.message?error.response.data.message:error.message,'Error',false,true);});};_this.handleSaveFile=function(){var postData={file_name:_this.state.fileName,file_data:_this.state.fileData};axios.post('/api/image',postData).then(function(response){return _this.handleResponsePopUp(response.data.message,'Success',true,false);}).catch(function(error){return _this.handleResponsePopUp(error.response.data.message,'Error',false,true);});};_this.handleFileChange=function(event){var selectedFile=event.target.files;/*Chaeck file type*/var fileName=selectedFile[0].name;console.log(fileName);var idxDot=fileName.lastIndexOf(\".\")+1;var extFile=fileName.substr(idxDot,fileName.length).toLowerCase();if(extFile==\"jpg\"||extFile==\"jpeg\"||extFile==\"png\"){}else{return _this.handleResponsePopUp('Only image media is suported','Error',false,true);};//Check File is not Empty\nif(selectedFile.length>0){// Select the very first file from list\nvar fileToLoad=selectedFile[0];// FileReader function for read the file.\nvar fileReader=new FileReader();// Onload of file read the file content\nfileReader.onload=function(fileLoadedEvent){_this.setState({fileData:fileLoadedEvent.target.result,fileName:selectedFile[0].name});};// Convert data to base64\nfileReader.readAsDataURL(fileToLoad);_this.handleSaveFile();};};_this.state={alert:null,fileData:'',fileName:'',imagesList:[]};return _this;}_createClass(galarry,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.alert,/*#__PURE__*/React.createElement(\"div\",{className:\"galarry\"},/*#__PURE__*/React.createElement(\"div\",{className:\"galarry_header\"},/*#__PURE__*/React.createElement(Header,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"galarry_body\"},/*#__PURE__*/React.createElement(Body,{imgList:this.state.imagesList,handleUploadFile:function handleUploadFile(event){return _this2.handleFileChange(event);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"galarry_fotter\"},/*#__PURE__*/React.createElement(Footer,null))));}}]);return galarry;}(Component);export{galarry as default};","map":{"version":3,"sources":["/home/user/Documents/Personal-workspace/image-gallary/public/reactjs/src/views/components/galarry.js"],"names":["React","Component","Header","Body","Footer","ReactBSAlert","axios","galarry","props","handleResponsePopUp","message","title","success","error","setState","alert","display","marginTop","handleModalClose","componentDidMount","handleGetImagesList","get","then","response","imagesList","data","catch","handleSaveFile","postData","file_name","state","fileName","file_data","fileData","post","handleFileChange","event","selectedFile","target","files","name","console","log","idxDot","lastIndexOf","extFile","substr","length","toLowerCase","fileToLoad","fileReader","FileReader","onload","fileLoadedEvent","result","readAsDataURL"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Header from './Header';\nimport Body from './Body';\nimport Footer from './Footer';\nimport ReactBSAlert from \"react-bootstrap-sweetalert\";\nimport axios from '../../util/axios';\n\nexport default class galarry extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            alert: null,\n            fileData: '',\n            fileName: '',\n            imagesList: []\n        };\n    };\n\n    // Pop-Ups for response in Modals\n    handleResponsePopUp = (message, title, success, error) => {\n        this.setState({\n            alert: (\n                <ReactBSAlert\n                    success={success}\n                    error={error}\n                    style={{ display: \"block\", marginTop: \"250px\" }}\n                    title={title}\n                    onConfirm={() => this.handleModalClose()}\n                    confirmBtnBsStyle=\"success\"\n                    btnSize=\"md\"\n                >\n                    {message}\n                </ReactBSAlert>\n            )\n        });\n    };\n\n    handleModalClose = () => {\n        this.setState({\n            alert: null\n        });\n    };\n\n    componentDidMount = () => {\n        this.handleGetImagesList();\n    }\n\n    handleGetImagesList = () => {\n        axios.get('/api/image').then(response => {\n            this.setState({\n                imagesList: response.data\n            });\n        }).catch(error => {\n            return this.handleResponsePopUp(error.response.data.message ? error.response.data.message : error.message, 'Error', false, true);\n        });\n    }\n\n    handleSaveFile = () => {\n        const postData = {\n            file_name: this.state.fileName,\n            file_data: this.state.fileData,\n        };\n        axios.post('/api/image', postData).then(response => {\n            return this.handleResponsePopUp(response.data.message, 'Success', true, false);\n        }).catch(error => {\n            return this.handleResponsePopUp(error.response.data.message, 'Error', false, true);\n        });\n    };\n\n    handleFileChange = (event) => {\n        let selectedFile = event.target.files;\n        /*Chaeck file type*/\n        const fileName = selectedFile[0].name;\n        console.log(fileName)\n        const idxDot = fileName.lastIndexOf(\".\") + 1;\n        const extFile = fileName.substr(idxDot, fileName.length).toLowerCase();\n        if (extFile == \"jpg\" || extFile == \"jpeg\" || extFile == \"png\") {\n        } else {\n            return this.handleResponsePopUp('Only image media is suported', 'Error', false, true);\n        };\n        //Check File is not Empty\n        if (selectedFile.length > 0) {\n            // Select the very first file from list\n            let fileToLoad = selectedFile[0];\n            // FileReader function for read the file.\n            let fileReader = new FileReader();\n            // Onload of file read the file content\n            fileReader.onload = (fileLoadedEvent) => {\n                this.setState({\n                    fileData: fileLoadedEvent.target.result,\n                    fileName: selectedFile[0].name\n                });\n            };\n            // Convert data to base64\n            fileReader.readAsDataURL(fileToLoad);\n            this.handleSaveFile();\n        };\n    };\n\n    render() {\n        return (\n            <>\n                {this.state.alert}\n                <div className='galarry'>\n                    <div className='galarry_header'>\n                        <Header />\n                    </div>\n                    <div className='galarry_body'>\n                        <Body imgList={this.state.imagesList} handleUploadFile={(event) => this.handleFileChange(event)} />\n                    </div>\n                    <div className='galarry_fotter'>\n                        <Footer />\n                    </div>\n                </div>\n            </>\n        )\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}