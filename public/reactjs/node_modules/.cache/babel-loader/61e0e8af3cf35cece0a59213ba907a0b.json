{"ast":null,"code":"var _jsxFileName = \"/home/kudos/Documents/react-projects/image-gallary/public/reactjs/src/views/components/galarry.js\";\nimport React, { Component } from 'react';\nimport Header from './Header';\nimport Body from './Body';\nimport Footer from './Footer';\nimport ReactBSAlert from \"react-bootstrap-sweetalert\";\nimport axios from '../../util/axios';\nexport default class galarry extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleResponsePopUp = (message, title, success, error) => {\n      this.setState({\n        alert: /*#__PURE__*/React.createElement(ReactBSAlert, {\n          success: success,\n          error: error,\n          style: {\n            display: \"block\",\n            marginTop: \"250px\"\n          },\n          title: title,\n          onConfirm: () => this.handleModalClose(),\n          confirmBtnBsStyle: \"success\",\n          btnSize: \"md\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 17\n          }\n        }, message)\n      });\n    };\n\n    this.handleModalClose = () => {\n      this.setState({\n        alert: null\n      });\n    };\n\n    this.handleSaveFile = () => {\n      const postData = {\n        file_name: this.state.fileName,\n        file_data: this.state.fileData\n      };\n      axios.post('/api/image', postData).then(response => {\n        return this.handleResponsePopUp(response.data.message, 'Success', true, false);\n      }).catch(error => {\n        return this.handleResponsePopUp(error.response.data.message, 'Error', false, true);\n      });\n    };\n\n    this.handleFileChange = event => {\n      let selectedFile = event.target.files;\n      /*Chaeck file type*/\n\n      const fileName = selectedFile[0].name;\n      console.log(fileName);\n      const idxDot = fileName.lastIndexOf(\".\") + 1;\n      const extFile = fileName.substr(idxDot, fileName.length).toLowerCase();\n\n      if (extFile == \"jpg\" || extFile == \"jpeg\" || extFile == \"png\") {} else {\n        return this.handleResponsePopUp('Only image is suported', 'Error', false, true);\n      }\n\n      ; //Check File is not Empty\n\n      if (selectedFile.length > 0) {\n        // Select the very first file from list\n        let fileToLoad = selectedFile[0]; // FileReader function for read the file.\n\n        let fileReader = new FileReader(); // Onload of file read the file content\n\n        fileReader.onload = fileLoadedEvent => {\n          this.setState({\n            fileData: fileLoadedEvent.target.result,\n            fileName: selectedFile[0].name\n          });\n        }; // Convert data to base64\n\n\n        fileReader.readAsDataURL(fileToLoad);\n        this.handleSaveFile();\n      }\n\n      ;\n    };\n\n    this.state = {\n      alert: null,\n      fileData: '',\n      fileName: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.alert, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"galarry\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"galarry_header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"galarry_body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Body, {\n      handleUploadFile: event => this.handleFileChange(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"galarry_fotter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/home/kudos/Documents/react-projects/image-gallary/public/reactjs/src/views/components/galarry.js"],"names":["React","Component","Header","Body","Footer","ReactBSAlert","axios","galarry","constructor","props","handleResponsePopUp","message","title","success","error","setState","alert","display","marginTop","handleModalClose","handleSaveFile","postData","file_name","state","fileName","file_data","fileData","post","then","response","data","catch","handleFileChange","event","selectedFile","target","files","name","console","log","idxDot","lastIndexOf","extFile","substr","length","toLowerCase","fileToLoad","fileReader","FileReader","onload","fileLoadedEvent","result","readAsDataURL","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Header from './Header';\nimport Body from './Body';\nimport Footer from './Footer';\nimport ReactBSAlert from \"react-bootstrap-sweetalert\";\nimport axios from '../../util/axios';\n\nexport default class galarry extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            alert: null,\n            fileData: '',\n            fileName: '',\n        };\n    };\n\n    // Pop-Ups for response in Modals\n    handleResponsePopUp = (message, title, success, error) => {\n        this.setState({\n            alert: (\n                <ReactBSAlert\n                    success={success}\n                    error={error}\n                    style={{ display: \"block\", marginTop: \"250px\" }}\n                    title={title}\n                    onConfirm={() => this.handleModalClose()}\n                    confirmBtnBsStyle=\"success\"\n                    btnSize=\"md\"\n                >\n                    {message}\n                </ReactBSAlert>\n            )\n        });\n    };\n\n    handleModalClose = () => {\n        this.setState({\n            alert: null\n        });\n    };\n\n    handleSaveFile = () => {\n        const postData = {\n            file_name: this.state.fileName,\n            file_data: this.state.fileData,\n        };\n        axios.post('/api/image', postData).then(response => {\n            return this.handleResponsePopUp(response.data.message, 'Success', true, false);\n        }).catch(error => {\n            return this.handleResponsePopUp(error.response.data.message, 'Error', false, true);\n        });\n    };\n\n    handleFileChange = (event) => {\n        let selectedFile = event.target.files;\n        /*Chaeck file type*/\n        const fileName = selectedFile[0].name;\n        console.log(fileName)\n        const idxDot = fileName.lastIndexOf(\".\") + 1;\n        const extFile = fileName.substr(idxDot, fileName.length).toLowerCase();\n        if (extFile == \"jpg\" || extFile == \"jpeg\" || extFile == \"png\") {\n        } else {\n            return this.handleResponsePopUp('Only image is suported', 'Error', false, true);\n        };\n        //Check File is not Empty\n        if (selectedFile.length > 0) {\n            // Select the very first file from list\n            let fileToLoad = selectedFile[0];\n            // FileReader function for read the file.\n            let fileReader = new FileReader();\n            // Onload of file read the file content\n            fileReader.onload = (fileLoadedEvent) => {\n                this.setState({\n                    fileData: fileLoadedEvent.target.result,\n                    fileName: selectedFile[0].name\n                });\n            };\n            // Convert data to base64\n            fileReader.readAsDataURL(fileToLoad);\n            this.handleSaveFile();\n        };\n    };\n\n    render() {\n        return (\n            <>\n                {this.state.alert}\n                <div className='galarry'>\n                    <div className='galarry_header'>\n                        <Header />\n                    </div>\n                    <div className='galarry_body'>\n                        <Body handleUploadFile={(event) => this.handleFileChange(event)} />\n                    </div>\n                    <div className='galarry_fotter'>\n                        <Footer />\n                    </div>\n                </div>\n            </>\n        )\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}